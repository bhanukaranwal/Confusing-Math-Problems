# Problem 4 â€” Modular Distance Networks in the Plane

## Problem Statement

Consider $n$ ($3 \leq n \leq 14$) distinct points in the 2D plane, $P_1 = (x_1, y_1), P_2 = (x_2, y_2), ..., P_n = (x_n, y_n)$, where $x_i, y_i$ are integers ($-10^6 \leq x_i, y_i \leq 10^6$) and no two points coincide.

Let $m$ ($2 \leq m \leq 5000$) be a positive integer.

You must build a **network graph $G$** whose nodes are the points $P_i$, and whose edges respect the following constraint:

- There is an undirected edge between $P_i$ and $P_j$ ($i \neq j$) **if and only if the Euclidean distance $d_{ij}$ between $P_i$ and $P_j$ is an integer and $d_{ij} \bmod m$ is NOT zero.**

Define a set $C$ of points ("centers") such that:

1. For every node $v$ in $G$, there exists a node $c \in C$ and a path in $G$ from $v$ to $c$, **of length at most $L$** ($L$ is user-selected, $2 \leq L \leq n$).
2. No two centers are adjacent in $G$.

Your task:

- Given $n, m$, and the list of coordinates, and your chosen $L$, **find the smallest possible size $t$ of $C$ and construct an explicit $C$ (print indices of chosen centers)**, such that $C$ fulfills the above requirements.

---

## Input

- First line: $n~m~L$ ($3 \leq n \leq 14$, $2 \leq m \leq 5000$, $2 \leq L \leq n$)
- Next $n$ lines: each contains $x_i~y_i$ ($-10^6 \leq x_i, y_i \leq 10^6$), unique points

---

## Output

- First line: integer $t$ (smallest size of $C$ found)
- Second line: $t$ integers: indices of chosen centers $C$, space separated, using $1$-based indices

---

## Sample Input

4 5 2
0 0
3 4
6 8
0 6



---

## Sample Output

2
2 4



---

### Notes

- Distances are Euclidean: $d_{ij} = \sqrt{(x_i-x_j)^2 + (y_i-y_j)^2}$
- Only integer distances, and not divisible by $m$, connect nodes.
- Each node is connected to at least one center within $L$ steps (edges); centers themselves cannot be adjacent.
- Output any minimal center cover.

---

## Constraints

- Coordinates are all distinct integers, within bounds.
- No repeated points.

---

## Extra Sample Test Cases

5 6 3
1 1
4 5
10 2
7 7
1 10

7 2 4
0 0
2 0
4 0
6 0
8 0
10 0
12 0



---

## Further Explanation and Requirements

You must:

- Construct the distance graph under given rules,
- Select a minimal set of nonadjacent centers so every node is within $L$ hops of some center,
- Output the center indices.

---

**End of Problem**
