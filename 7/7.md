# Problem 7 â€” Counting Lattice Roots of Polynomial Systems

## Problem Statement

Given two nonzero polynomials $f(x, y)$ and $g(x, y)$ with integer coefficients, each of total degree at most $d$ ($1 \leq d \leq 5$), and a bounded rectangle $[a_1, a_2] \times [b_1, b_2]$ in the integer lattice ($-20 \leq a_1 < a_2 \leq 20$, $-20 \leq b_1 < b_2 \leq 20$):

Find the number $N$ of integer pairs $(x, y)$ inside the rectangle such that both $f(x, y) = 0$ and $g(x, y) = 0$ (i.e., $(x, y)$ is a simultaneous integer root of both polynomials in the region).

Additionally, print all such pairs sorted by $x$ (and by $y$ for ties).

---

## Input

- First line: $d$ ($1 \leq d \leq 5$)
- Second line: coefficients of $f(x, y)$, as space-separated list: $c_0$ $c_1$ ... $c_t$, where $f(x, y) = c_0 + c_1 x + c_2 y + c_3 x^2 + c_4 xy + \dots$ up to degree $d$, with all monomials in lex order ($x^i y^j$ with $i + j \leq d$).
- Third line: coefficients of $g(x, y)$, in same format for degree $d$.
- Fourth line: $a_1~a_2~b_1~b_2$ (rectangle bounds, inclusive)

---

## Output

- First line: $N$ (number of solutions)
- Next $N$ lines: $x~y$ pairs in ascending $x$ order, ties broken by $y$.

---

## Sample Input

2
1 -1 -1 1 0 1
-2 0 1 1 2 0
0 5 0 5

text

---

## Sample Output

1
1 1

text

---

### Notes

- The coefficient lists are given in lex order: $x^0y^0, x^1y^0, x^0y^1, x^2y^0, x^1y^1, x^0y^2, ...$ up to total degree $d$.
- Bounds are inclusive; search all $x, y$ with $a_1 \leq x \leq a_2$, $b_1 \leq y \leq b_2$.
- There may be zero, one, or multiple solutions.

---

## Constraints

- $1 \leq d \leq 5$
- Number of coefficients per polynomial is $\frac{(d+1)(d+2)}{2}$
- $-20 \leq a_1 < a_2 \leq 20$
- $-20 \leq b_1 < b_2 \leq 20$
- Coefficients are integers ($-100 \leq c_i \leq 100$)

---

## Extra Sample Test Cases

1
0 1 1
1 0 0
-1 2 -1 2

3
2 0 0 1 0 0 1 0 1 0
0 0 1 0 1 0 0 1 0 0
0 3 0 3

text

---

## Further Explanation and Requirements

You must:

- Parse polynomial coefficient lists and evaluate $f(x, y)$ and $g(x, y)$ for all integer lattice points in the region.
- Report only the simultaneous roots as requested, sorted.

---

**End of Problem**
